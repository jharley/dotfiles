#!/bin/sh

# clj - Clojure launcher script

BREAK_CHARS="\(\){}[],^%\$#@\"\";:''|\\"

cljjar='/opt/boxen/homebrew/Cellar/clojure/1.5.1/clojure-1.5.1.jar'
cljcompletions="$HOME/.clj_completions"

cp="${PWD}:${cljjar}"

# Add extra jars as specified by `.clojure` file
# Borrowed from <http://github.com/mreid/clojure-framework>
if [ -f .clojure ]; then
  cp=$cp:`cat .clojure`
fi

if [ $# -eq 0 ]; then
  rlwrap --remember -c -b $BREAK_CHARS -f $cljcompletions java -cp $cp clojure.main
else
  exec java -classpath $cp clojure.main $*
fi
